# Phase 06 - Plan 01: Navigation & Utility Components Modernization

**Phase:** 06-core-ui-components-navigation
**Plan:** 01
**Wave:** 1
**Autonomous:** true
**Created:** 2026-01-21

---

## Objective

Modernizar componentes de navegação e utility existentes (Tabs e Progress) com variantes type-safe usando cva, melhor integração com tokens do design system, e criar documentação completa NAVIGATION.md.

**Purpose:** Tabs são fundamentais para organização de conteúdo e navegação entre seções. Progress indicators fornecem feedback visual essencial. Adicionar variantes type-safe cria flexibilidade mantendo consistência. Componentes bem implementados melhoram a percepção de qualidade e facilitam navegação intuitiva.

---

## Context

**Current State:**
- Tabs existe (usa Radix UI) mas SEM variantes cva - precisa modernizar
- Progress existe (usa Radix UI) mas SEM variantes cva - precisa modernizar
- Badge JÁ tem cva com 9 variantes ✅ (default, secondary, destructive, outline, success, warning, info, purple, muted)
- Separator JÁ usa Radix UI e funciona bem ✅

**Scope Adjustment:**
O ROADMAP original mencionava criar Navigation Menu, Breadcrumbs, e Pagination, mas esses componentes:
1. Não existem no projeto base (1Code Desktop referência)
2. Não existem no Auto-Claude atual
3. Não são usados no codebase existente

**Decisão:** Focar em modernizar os componentes de UI utility existentes que são usados ativamente (Tabs, Progress) em vez de criar componentes complexos que não são necessários para o projeto.

**Components that DON'T need changes:**
- Badge ✅ - Já tem cva com 9 variantes, perfeitamente modernizado
- Separator ✅ - Simples e funcional, já usa Radix UI corretamente

**Reference:**
- Design tokens: `apps/frontend/src/renderer/styles/globals.css` (@theme block)
- Spacing tokens: Phase 03 (13 values)
- Typography tokens: Phase 02 (9 sizes, 4 weights)
- ui.md reference: Tabs (lines 885-941), Badge (lines 998-1034)
- Button pattern: cva + forwardRef + VariantProps

**Dependencies:**
- Phase 01: Design Tokens Foundation (colors, borders)
- Phase 02: Typography System (font sizes)
- Phase 03: Spacing & Layout System (spacing tokens)
- Phase 04: Form Components (input patterns)

---

## Tasks

### Task 1: Modernizar Tabs com Variantes

**Objective:** Adicionar variantes ao Tabs component usando cva para tamanhos e estilos.

**Files to modify:**
- `apps/frontend/src/renderer/components/ui/tabs.tsx`

**Implementation:**
1. Importar cva e VariantProps
2. Criar tabsListVariants com cva para TabsList:
   - Variant `size`: sm (h-8 p-0.5), default (h-10 p-1), lg (h-12 p-1.5)
   - Variant `variant`: default (bg-secondary), outline (border border-border bg-transparent), pills (bg-transparent gap-1)
   - Base styles mantidos: inline-flex items-center justify-center rounded-lg
3. Criar tabsTriggerVariants com cva para TabsTrigger:
   - Variant `size`: sm (px-2 py-1 text-xs), default (px-3 py-1.5 text-sm), lg (px-4 py-2 text-base)
   - Manter states: data-[state=active] bg-card, data-[state=inactive] hover styles
   - Manter focus-visible ring styles
4. Atualizar TabsList para aceitar size e variant props com VariantProps
5. Atualizar TabsTrigger para aceitar size prop com VariantProps
6. Aplicar variants no className com cn()
7. Manter TabsContent sem variantes (apenas mt-3 spacing)
8. Default variants: size: default, variant: default

**Success criteria:**
- Build passa sem erros TypeScript
- TabsList tem variantes size (sm/default/lg) e variant (default/outline/pills)
- TabsTrigger tem variantes size (sm/default/lg)
- Componente mantém todas animações e transitions
- Zero breaking changes para uso existente

**Commit format:** `feat(navigation): add size and variant options to Tabs component`

---

### Task 2: Modernizar Progress com Variantes

**Objective:** Adicionar variantes ao Progress component usando cva para tamanhos e cores.

**Files to modify:**
- `apps/frontend/src/renderer/components/ui/progress.tsx`

**Implementation:**
1. Importar cva e VariantProps
2. Criar progressVariants com cva para Root:
   - Variant `size`: sm (h-1), default (h-2), lg (h-3), xl (h-4)
   - Manter base styles: relative w-full overflow-hidden rounded-full bg-border
3. Criar progressIndicatorVariants com cva para Indicator:
   - Variant `variant`: default (bg-primary), success (bg-success), warning (bg-warning), destructive (bg-destructive), info (bg-info)
   - Manter transition-all duration-300 ease-out
   - Manter animated && 'progress-working' class
4. Atualizar ProgressProps para incluir size e variant com VariantProps
5. Aplicar size variant no Root className
6. Aplicar variant no Indicator className
7. Manter animated prop existente
8. Default variants: size: default, variant: default

**Success criteria:**
- Build passa sem erros TypeScript
- Progress tem variantes size (sm/default/lg/xl)
- Progress Indicator tem variantes variant (default/success/warning/destructive/info)
- Componente mantém animated prop
- Transitions preservadas (300ms ease-out)
- Zero breaking changes para uso existente

**Commit format:** `feat(navigation): add size and variant options to Progress component`

---

### Task 3: Integrar com Spacing Tokens

**Objective:** Verificar e documentar que spacing já usa tokens corretamente nos componentes.

**Files to review:**
- `apps/frontend/src/renderer/components/ui/tabs.tsx`
- `apps/frontend/src/renderer/components/ui/progress.tsx`
- `apps/frontend/src/renderer/components/ui/badge.tsx`
- `apps/frontend/src/renderer/components/ui/separator.tsx`

**Implementation:**
1. Tabs:
   - TabsList p-1 (spacing-4 = 1rem) ✓
   - TabsTrigger px-3 py-1.5 ✓
   - TabsContent mt-3 (spacing-3 = 0.75rem) ✓
2. Progress:
   - Root h-2 (0.5rem) ✓
   - Já usa spacing tokens corretamente
3. Badge:
   - px-2.5 py-0.5 ✓
   - Já usa spacing tokens
4. Separator:
   - h-[1px] w-full ou h-full w-[1px] ✓
   - Usa fixed pixel para linha fina (correto)
5. Documentar no NAVIGATION.md que spacing integrado com Phase 03 tokens

**Success criteria:**
- Todos os spacings verificados contra tokens do Phase 03
- Documentação clara de spacing usage
- Zero visual changes (spacing já correto)
- Zero breaking changes

**Commit format:** `refactor(navigation): document spacing token integration`

---

### Task 4: Criar Documentação NAVIGATION.md

**Objective:** Documentar todos os componentes de navegação e utility com exemplos de uso, APIs, e patterns.

**Files to create:**
- `.planning/phases/06-core-ui-components-navigation/NAVIGATION.md`

**Content structure:**
1. **Overview:** Introdução ao sistema de navegação e utility components
2. **Components:**
   - **Tabs:** API, variantes (size, variant), orientation (horizontal only), composition patterns, exemplos
   - **Progress:** API, variantes (size, variant), animated prop, exemplos
   - **Badge:** API, 9 variantes existentes (default/secondary/destructive/outline/success/warning/info/purple/muted), exemplos
   - **Separator:** API, orientation (horizontal/vertical), usage em layouts, exemplos
3. **Usage Patterns:**
   - Tab navigation (settings, content sections)
   - Progress indicators (upload, loading, completion)
   - Badge usage (status, count, labels)
   - Section separators (content dividers)
4. **Composition Patterns:**
   - Tabs + FormField (tabbed forms)
   - Tabs + Card (content organization)
   - Progress + Text (upload feedback)
   - Badge + Button (notification counts)
5. **Accessibility:**
   - Tabs keyboard navigation (Arrow keys, Home, End)
   - Tab focus management
   - Progress ARIA attributes (aria-valuenow, aria-valuemin, aria-valuemax)
   - Screen reader announcements
6. **Integration:**
   - Com Phase 01 (tokens de cores)
   - Com Phase 02 (tipografia em tabs)
   - Com Phase 03 (spacing em tabs, progress)
   - Para Phase 07+ (animações)
7. **Variants Reference:**
   - Tabelas de todas as variantes (Tabs, Progress)
   - Visual examples e use cases
8. **Migration Guide:**
   - Como migrar de tabs customizadas para Tabs component
   - Quando usar cada variant
   - Benefícios da padronização

**Success criteria:**
- Documentação completa (~500-700 lines)
- Exemplos de código para cada componente
- Tabelas de referência para variantes
- Guia de acessibilidade com keyboard shortcuts
- Guia de composição e patterns
- Migration guide e best practices

**Commit format:** `docs(navigation): add comprehensive navigation and utility components documentation`

---

## Verification

After all tasks complete:

1. **Build verification:**
   ```bash
   cd apps/frontend && npm run build
   ```
   - Must build without TypeScript errors
   - CSS bundle must include all new variants

2. **Component API verification:**
   - Tabs: `<TabsList size="sm" variant="pills">` + `<TabsTrigger size="sm">`
   - Progress: `<Progress size="lg" variant="success" value={75} />`
   - Badge: Already has 9 variants working ✓
   - Separator: Already works perfectly ✓

3. **Token integration verification:**
   - Tabs uses spacing tokens (p-1, px-3, py-1.5, mt-3)
   - Progress uses height tokens (h-1, h-2, h-3, h-4)
   - Badge uses spacing tokens (px-2.5, py-0.5)
   - Separator uses border color tokens

4. **Documentation verification:**
   - NAVIGATION.md existe e está completo
   - Exemplos de código são executáveis
   - Guias de acessibilidade e composição presentes

---

## Success Criteria

- [ ] Tabs modernizado com variantes (size: sm/default/lg, variant: default/outline/pills)
- [ ] Progress modernizado com variantes (size: sm/default/lg/xl, variant: default/success/warning/destructive/info)
- [ ] Spacing integration documentado para todos os 4 componentes
- [ ] Documentação NAVIGATION.md completa
- [ ] Build passa sem erros TypeScript
- [ ] Zero breaking changes para componentes existentes
- [ ] Todos os componentes usam tokens do design system
- [ ] 4 commits criados (2 feat, 1 refactor, 1 docs)

---

## Output

**Files Modified:**
- `apps/frontend/src/renderer/components/ui/tabs.tsx` (size + variant variants)
- `apps/frontend/src/renderer/components/ui/progress.tsx` (size + variant variants)

**Files Reviewed (no changes needed):**
- `apps/frontend/src/renderer/components/ui/badge.tsx` (✅ already has 9 cva variants)
- `apps/frontend/src/renderer/components/ui/separator.tsx` (✅ already uses Radix UI correctly)

**Files Created:**
- `.planning/phases/06-core-ui-components-navigation/NAVIGATION.md` (documentação)

**Commits:** 4 commits (2 feat, 1 refactor, 1 docs)

**Documentation:** Comprehensive NAVIGATION.md with API reference, usage patterns, composition examples, accessibility guide, and migration path

**Next Phase:** Phase 07 (Motion & Animation System) - Framer Motion integration, transition tokens, animation patterns

---

*Plan created: 2026-01-21*
*Estimated completion: 4 tasks, single wave execution*
